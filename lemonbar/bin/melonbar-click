#!/bin/sh

# MELONBAR-CLICK
# Simon Hugh Moore
#
# Click events for statusline. 

_memory() {
    message="$( free -lth | awk 'NR==1 {printf "\t%s\t%s\t%s\n", $1, $2, $3} NR>1 {printf "%s\t%s\t%s\t%s\n", $1, $2, $3, $4}' )"
    notify-send "Memory Info:" "$message"
}

_uptime(){
    message="$( uptime | sed 's/,//g' | awk '{printf "Uptime: %s\nUsers: %s\nLoad Average: %s, %s, %s\n", $3, $4, $8, $9, $10 }' )"
    notify-send "Uptime info:" "$message"
}

_date(){
    message="$( date '+%nShort:\t%d-%m-%Y%nDOW:\t%u (%A)%nDOY:\t%j%nWOY:\t%V%nQOY:\t%q
' )"
notify-send "$( date '+%A %d %B %Y' )" "$message"
}

_time(){
    message="$( date '+%nlocal: %I:%M:%S %P%nZone: %z %Z%nNano: %N%nEpoch: %s%n' )"
notify-send "$( date '+%H:%M:%S' )" "$message"
}

case $1 in
    memory) _memory ;;
    uptime) _uptime ;;
    date) _date ;;
    time) _time ;;
esac
