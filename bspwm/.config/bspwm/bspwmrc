#! /bin/sh

# set up desktops for each monitor.
bspc monitor -d 1 2 3 4 5 6 7 8 9 10 'V'

# set default layout for Video desktop
bspc desktop 'V' --layout monocle

# config options
bspc config border_width          2     # width of border around window.
bspc config window_gap            12    # size of gap between windows.
bspc config split_ratio           0.52

bspc config borderless_monocle    true  # no borders in monocle layout.
bspc config gapless_monocle       true  # no gaps in monocle layout.
bspc config single_monocle        true  # use monocle layout if there is only 1 window.

bspc config focus_follows_pointer true  # focus the window under the pointer.
# bspc config pointer_follows_focus true  # move pointer to focused window.
bspc config ignore_ewmh_focus     true  # prevent apps from stealing focus.

# Color
bspc config normal_border_color   "#333333"
bspc config focused_border_color  "#C25704"
bspc config active_border_color  "#C25704"
bspc config presel_feedback_color  "#993004"

# Rules
bspc rule -a mpv desktop='V'     # open mpv in a dedicated video desktop.
bspc rule -a mpv focus=off       # don't give new mpv windows focus.
bspc rule -a Zathura state=tiled # open zathura in tiled mode.
bspc rule -a Emacs state=tiled   # open emacs in tiled mode.

# run bspwm specific sxhkd config.
sxhkd -c "$HOME/.config/sxhkd/bspwm.sxhkdrc" &
# run lemonbar panel after sleep to give system time to catch up.
sleep 1 && melonbar run &
